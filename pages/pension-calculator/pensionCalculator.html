<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="format-detection" content="telephone=no">
    <meta name="theme-color" content="#1e88e5">
    <title>个人养老金计算器 - 科学规划退休生活</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <div style="text-align: left; margin-bottom: 10px;">
                <a href="../../index.html" style="color: white; text-decoration: none; font-size: 14px; opacity: 0.9; display: inline-flex; align-items: center;">
                    ← 返回主页
                </a>
            </div>
            <h1>个人养老金计算器</h1>
            <p class="subtitle">基于社保新规，科学估算您的退休待遇</p>
        </header>

        <main>
            <div class="calculator-layout">
                <!-- 输入区域 -->
                <section class="input-section">
                    <div class="panel">
                        <div class="panel-header">
                            <h2>基本信息</h2>
                        </div>
                        <div class="panel-body">
                            <div class="form-group">
                                <label>性别</label>
                                <div class="radio-group">
                                    <label class="radio-label">
                                        <input type="radio" name="gender" value="male" checked>
                                        <span class="radio-custom"></span>
                                        <span>男 (65岁退休)</span>
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="gender" value="female_worker">
                                        <span class="radio-custom"></span>
                                        <span>女职工 (60岁退休)</span>
                                    </label>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="current-age">当前年龄</label>
                                    <div class="input-wrapper">
                                        <input type="number" id="current-age" min="18" max="65" value="30">
                                        <span class="unit">岁</span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="avg-salary">当地上年度月平均工资</label>
                                    <div class="input-wrapper">
                                        <input type="number" id="avg-salary" min="0" value="8000">
                                        <span class="unit">元</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="panel">
                        <div class="panel-header">
                            <h2>缴费详情</h2>
                        </div>
                        <div class="panel-body">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="paid-years">已缴费年限</label>
                                    <div class="input-wrapper">
                                        <input type="number" id="paid-years" min="0" max="40" value="5">
                                        <span class="unit">年</span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="account-balance">个人账户当前余额</label>
                                    <div class="input-wrapper">
                                        <input type="number" id="account-balance" min="0" value="20000">
                                        <span class="unit">元</span>
                                    </div>
                                    <small class="form-helper">可查询社保账户获取准确数值</small>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="salary-base">当前月缴费基数</label>
                                <div class="input-wrapper">
                                    <input type="number" id="salary-base" min="0" value="8000">
                                    <span class="unit">元</span>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="past-avg-index">过去平均缴费指数</label>
                                    <div class="input-wrapper">
                                        <input type="number" id="past-avg-index" step="0.1" value="1.0">
                                    </div>
                                    <small class="form-helper">已缴费年限的平均缴费指数</small>
                                </div>
                                <div class="form-group">
                                    <label for="avg-index">未来平均缴费指数（选填）</label>
                                    <div class="input-wrapper">
                                        <input type="number" id="avg-index" step="0.1" placeholder="留空则根据缴费基数计算">
                                    </div>
                                    <small class="form-helper">留空则根据缴费基数变化方式自动计算</small>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>缴费基数变化方式</label>
                                <div class="radio-group">
                                    <label class="radio-label">
                                        <input type="radio" name="base-change-mode" value="follow_salary" checked>
                                        <span class="radio-custom"></span>
                                        <span>跟着工资增长</span>
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="base-change-mode" value="fixed">
                                        <span class="radio-custom"></span>
                                        <span>固定基数（公司会调整到60%）</span>
                                    </label>
                                </div>
                                <small class="form-helper">
                                    <strong>跟着工资增长：</strong>缴费基数按工资增长率增长，但不能低于社平工资的60%。<br>
                                    <strong>固定基数：</strong>缴费基数保持您填写的值不变，但当社平工资的60%超过当前基数时，公司会强制提高到社平工资的60%（满足最低缴费下限）。
                                </small>
                            </div>

                            <div class="form-group">
                                <label for="payment-ratio">个人缴费比例</label>
                                <div class="input-wrapper">
                                    <input type="number" id="payment-ratio" value="8" readonly>
                                    <span class="unit">%</span>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>未来缴费规划</label>
                                <div class="radio-group">
                                    <label class="radio-label">
                                        <input type="radio" name="payment-plan" value="continuous" checked>
                                        <span class="radio-custom"></span>
                                        <span>持续缴费至退休</span>
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="payment-plan" value="stop_early">
                                        <span class="radio-custom"></span>
                                        <span>提前停止缴费</span>
                                    </label>
                                </div>
                            </div>

                            <div class="form-group hidden" id="stop-age-group">
                                <label for="stop-age">预计停止缴费年龄</label>
                                <div class="input-wrapper">
                                    <input type="number" id="stop-age" min="0" max="65" value="50">
                                    <span class="unit">岁</span>
                                </div>
                                <small class="form-helper">缴费满此年龄后停止，账户资金继续复利至退休</small>
                            </div>

                            <!-- 高级设置折叠 -->
                            <details class="advanced-settings">
                                <summary>高级参数设置 (点击展开)</summary>
                                <div class="advanced-content">
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="salary-growth">工资年增长率估算</label>
                                            <div class="input-wrapper">
                                                <input type="number" id="salary-growth" min="0" max="20" value="3" step="0.5">
                                                <span class="unit">%</span>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="soc-avg-growth">社平工资年增长率</label>
                                            <div class="input-wrapper">
                                                <input type="number" id="soc-avg-growth" min="0" max="20" value="3" step="0.5">
                                                <span class="unit">%</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="interest-rate">个人账户记账利率</label>
                                        <div class="input-wrapper">
                                            <input type="number" id="interest-rate" min="0" max="10" value="3" step="0.1">
                                            <span class="unit">%</span>
                                        </div>
                                        <small class="form-helper">近年社保记账利率约在 3%~8% 之间</small>
                                    </div>
                                </div>
                            </details>
                        </div>
                    </div>

                    <div class="button-group">
                        <button id="calculate-btn" class="btn btn-primary">开始计算</button>
                        <button id="reset-btn" class="btn btn-secondary">重置</button>
                    </div>
                </section>

                <!-- 结果区域 -->
                <section class="result-section hidden" id="result-section">
                    <div class="panel result-panel">
                        <div class="result-header">
                            <h3>预估退休待遇</h3>
                            <div class="retirement-info">
                                <span>预计退休年龄: <strong id="res-retire-age">60</strong>岁</span>
                                <span>退休年份: <strong id="res-retire-year">2053</strong>年</span>
                            </div>
                        </div>

                        <div class="total-pension-card">
                            <div class="label">预估月领养老金</div>
                            <div class="value">
                                <span class="currency">¥</span>
                                <span id="res-total-pension">0.00</span>
                            </div>
                            <div class="sub-text">
                                相当于退休时社会平均工资的 <span id="res-replace-rate">0</span>%
                            </div>
                        </div>

                        <div class="pension-breakdown">
                            <div class="breakdown-item">
                                <div class="item-icon basic-icon">基</div>
                                <div class="item-info">
                                    <div class="item-label">基础养老金</div>
                                    <div class="item-desc">体现社会互济</div>
                                </div>
                                <div class="item-value">¥ <span id="res-basic-pension">0</span></div>
                            </div>
                            <div class="breakdown-item">
                                <div class="item-icon personal-icon">个</div>
                                <div class="item-info">
                                    <div class="item-label">个人账户养老金</div>
                                    <div class="item-desc">累计余额 / <span id="res-months">139</span>个月</div>
                                </div>
                                <div class="item-value">¥ <span id="res-personal-pension">0</span></div>
                            </div>
                        </div>

                        <div class="data-cards">
                            <div class="data-card">
                                <h4>个人账户累计</h4>
                                <div class="data-value">¥ <span id="res-account-total">0</span></div>
                                <div class="data-desc">含利息估算</div>
                            </div>
                            <div class="data-card">
                                <h4>累计缴费年限</h4>
                                <div class="data-value"><span id="res-total-years">0</span> 年</div>
                            </div>
                        </div>

                        <!-- 详细计算说明 -->
                        <div id="calculation-details"></div>

                        <!-- 年度明细表格 -->
                        <div id="year-details-table"></div>

                        <div class="disclaimer">
                            <p><strong>声明：</strong> 本计算器结果仅供参考。实际养老金受退休时政策、社会平均工资、个人账户积累等多种因素影响。计算假设了工资和社平工资按固定比例增长，这在长期跨度下可能产生较大偏差。</p>
                        </div>
                    </div>
                </section>
            </div>
        </main>
    </div>
    <script src="calculator.js"></script>
</body>
</html>